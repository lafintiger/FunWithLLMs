


###--- SESSION START ---###
$ sudo nmcli con add con-name "OfficeNetwork" type ethernet ifname eth0 ipv4.method manual ipv4.address "192.168.1.100/24" ipv4.gateway "192.168.1.1"
Error: invalid address: 192.168.1.10024
$ sudo nmcli con add con-name "OfficeNetwork" type ethernet ifname eth0 ipv4.method manual ipv4.addresses "192.168.1.100/24" ipv4.gateway "192.168.1.1"
$ sudo nmcli con mod "OfficeNetwork" ipv4.dns "8.8.8.8 8.8.4.4"
$ sudo nmcli con up "OfficeNetwork"
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/1)
$ ip a

###--- SESSION END ---###

###--- SESSION START ---###
$ ip addr add dev eth0 192.168.10.100/24
$ route add default gw 192.168.10.1
bash: route: command not found
$ sudo route add default gw 192.168.10.1
bash: route: command not found
$ sudo ip route add default via 192.168.10.1 dev eth0
RTNETLINK answers: File exists
$ sudo nmcli dev up eth0
Error: Connection activation failed.
$ ping 8.8.8.8
connect: Network is unreachable

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo nmcli con mod "Wired connection 1" ipv4.method manual ipv4.addresses "192.168.0.50/24" ipv4.gateway "192.168.0.1"
$ sudo nmcli con mod "Wired connection 1" ipv4.dns "8.8.8.8,8.8.4.4"
$ sudo nmcli con up "Wired connection 1"
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/2)
$ ping -c 3 google.com
PING google.com (142.250.64.110) 56(84) bytes of data.
64 bytes from 142.250.64.110: icmp_seq=1 ttl=118 time=12.1 ms

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo nmcli con mod "HomeNetwork" ipv4.dns "8.8.8.8,8.8.4.4"
$ sudo nmcli con up "HomeNetwork"
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/3)
$ cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 127.0.0.1
$ sudo systemctl restart NetworkManager
$ cat /etc/resolv.conf
nameserver 127.0.0.1
nameserver 8.8.8.8
nameserver 8.8.4.4

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT
$ sudo iptables -A OUTPUT -p tcp --sport 22 -j ACCEPT
$ sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
$ sudo service iptables save
Redirecting to /bin/systemctl save iptables.service
Failed to execute operation: No such file or directory
$ sudo systemctl restart iptables
Job for iptables.service failed because the control process exited with error code.
See "systemctl status iptables.service" and "journalctl -xe" for details.

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo nmcli con mod "Wired connection 1" ipv4.gateway "192.168.0.1.1"
$ sudo nmcli con up "Wired connection 1"
Error: Connection activation failed: ip_config_start failed
$ sudo nmcli con mod "Wired connection 1" ipv4.gateway "192.168.0.1"
$ sudo nmcli con up "Wired connection 1"
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo ip addr add 192.168.50.100/24 dev eth0
$ sudo ip route add default via 192.168.50.1
$ ip addr
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP qlen 1000
    inet 192.168.50.100/24 brd 192.168.50.255 scope global eth0
       valid_lft forever preferred_lft forever
$ ping 8.8.8.8
64 bytes from 8.8.8.8: icmp_seq=1 ttl=118 time=15.5 ms

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT
$ sudo iptables -A INPUT -p tcp --dport 80 -j ACCPET
iptables v1.8.7 (nf_tables): unknown option "ACCPET"
$ sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
$ sudo service iptables save
$ sudo iptables -L
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         
ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http

###--- SESSION END ---###

###--- SESSION START ---###
$ sudo systemctl restart network
$ sudo nmcli dev disconnect eth0
$ sudo nmcli dev connect eth0
$ ping 8.8.8.8
connect: Network is unreachable
$ ip addr show eth0

###--- SESSION END ---###

###--- SESSION START ---###
$ cat /etc/resolv.conf
nameserver 8.8.8.8
nameserver 8.8.4.4
$ sudo nmcli con mod "WorkNetwork" ipv4.dns "1.1.1.1,1.0.0.1"
$ sudo nmcli con up "WorkNetwork"
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/5)
$ cat /etc/resolv.conf
nameserver 1.1.1.1
nameserver 1.0.0.1

###--- SESSION END ---###

